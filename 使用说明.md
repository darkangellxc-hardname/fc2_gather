# FC2资源收集器 - GUI版本

## 系统要求
- Windows 10/11（推荐）
- 网络环境可选代理（HTTP/SOCKS5）
- 使用源码运行需安装 Python 3.10+ 及常用依赖（如 `requests`、`PySocks`、`tldextract` 等）

## 功能介绍
这是一个现代化的FC2资源收集工具，提供友好的图形界面，支持批量获取FC2影片的磁力链接信息。

## 主要功能
- 🎯 批量处理FC2番号
- 🔍 自动搜索磁力链接
- ⚙️ 完整的代理设置
- 📊 实时进度显示
- 💾 结果自动保存
- 📝 详细的日志输出

## 使用方法

### 1. 启动应用
有两种启动方式：
- 方式A（推荐）：双击 `dist/FC2Gather.exe` 直接运行（无需安装 Python）
- 方式B：双击 `启动器.py` 或在命令行运行源码：
```bash
python fc2_gui.py
```

### 2. 输入番号
有两种方式输入FC2番号：
- **直接输入**：在主界面的输入框中输入番号，多个番号用逗号分隔
- **文件导入**：点击"浏览..."按钮选择包含番号的文本文件

文件格式示例（每行一个番号）：
```
FC2-PPV-1234567
FC2-PPV-7654321
FC2-PPV-9876543
```

### 3. 开始获取
点击"开始获取"按钮，程序将开始处理番号列表。

### 4. 查看结果
- 处理过程中的详细日志会显示在输出区域
- 获取到的磁力链接和信息会自动保存到指定目录
- 进度条显示当前处理进度

## 设置说明（`config.ini`）

在程序根目录中通过 `config.ini` 调整参数：

```
[下载设置]
proxy = 127.0.0.1:7897       ; 手动代理地址，支持 http 与 socks5
autoproxy = 是               ; 是否自动检测系统代理（是/否）
download_path = ./Downloads/ ; 下载与输出文件保存路径
max_dl = 2                   ; 同时处理的线程数量（建议 2-4）
max_retry = 3                ; 网络异常时的重试次数
verifyssl = 否               ; 是否验证 SSL 证书（是/否）
```

### 代理设置
- **手动代理**：支持HTTP和SOCKS5代理
  - HTTP格式：`http://ip:端口`
  - SOCKS5格式：`socks5://ip:端口`
- **自动代理**：自动检测系统代理设置
- **SSL验证**：根据网络环境选择是否验证SSL证书

### 下载设置
- **下载路径**：设置资源保存的文件夹路径
- **下载线程数**：同时处理的线程数量（建议2-4）
- **失败重试数**：网络异常时的重试次数

## 菜单功能

### 文件菜单
- **导入列表**：选择番号文件
- **退出**：关闭应用

### 设置菜单
- **下载设置**：打开设置窗口，配置各种参数

### 帮助菜单
- **使用帮助**：显示详细的使用说明（带滚动条）
- **关于**：显示版本信息和应用介绍

## 输出文件

程序会在指定的下载目录中生成以下文件：
- `magnet_YYYYMMDD_HHMMSS.txt`：磁力链接列表
- `details_YYYYMMDD_HHMMSS.txt`：详细信息（包含标题、URL等）
另外会生成以下辅助文件：
- `list.txt`：已解析的番号列表
- `magnet.txt`：汇总的磁力链接
- `no_magnet.txt`：未搜索到磁力的番号
- `error.txt`：搜索失败（如网络异常）的番号

## 故障排除

### 网络连接问题
1. 检查代理设置是否正确
2. 尝试关闭SSL证书验证
3. 减少线程数和重试次数
4. 检查网络连接状态

### 番号解析失败
1. 确保番号格式正确（支持FC2-PPV-1234567或1234567格式）
2. 检查输入文本是否有特殊字符
3. 验证番号是否有效

### 磁力链接获取失败
1. 某些番号可能没有对应的磁力链接
2. 网络环境可能影响搜索结果
3. 尝试更换代理或使用直连模式

## 注意事项
- 请合理设置线程数，避免给服务器造成过大负担
- 建议在非网络高峰期使用，以获得更好的成功率
- 获取到的磁力链接可用于下载工具进行下载
- 请遵守相关法律法规，合理使用本工具

## 版本信息
**当前版本**：v0.1（2024年）
**打包文件**：`dist/FC2Gather.exe`

## 技术支持
如有问题，请查看日志信息或联系开发者。